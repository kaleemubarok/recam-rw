import{S as rt,i as lt,s as ot,k as i,a as M,q as H,V as nt,l as c,h as l,c as P,m as u,r as V,n as t,C as e,b as K,Q as $,D as it,o as ct,T as dt,p as U,W as ut,u as Y}from"../../../../chunks/index-d1f1804c.js";import{a as tt}from"../../../../chunks/auth-380363b5.js";import{e as ht}from"../../../../chunks/env-public-6aa99648.js";import{f as et}from"../../../../chunks/index-a9af9306.js";function at(E,a,h){const o=E.slice();return o[2]=a[h],o[4]=h,o}function pt(E){let a;return{c(){a=H("loading...")},l(h){a=V(h,"loading...")},m(h,o){K(h,a,o)},p:$,d(h){h&&l(a)}}}function _t(E){let a,h,o,p,g,y,m,j,I,b,B,W,T,w,k,f,N,A,_,x,R,C,D=E[0].logs,d=[];for(let s=0;s<D.length;s+=1)d[s]=st(at(E,D,s));return{c(){a=i("table"),h=i("thead"),o=i("tr"),p=i("th"),g=H("#"),y=M(),m=i("th"),j=H("Waktu"),I=M(),b=i("th"),B=H("Endpoint"),W=M(),T=i("th"),w=H("Communication Attempt"),k=M(),f=i("th"),N=H("Response"),A=M(),_=i("th"),x=H("Action"),R=M(),C=i("tbody");for(let s=0;s<d.length;s+=1)d[s].c();this.h()},l(s){a=c(s,"TABLE",{class:!0,id:!0,role:!0,"aria-describedby":!0});var v=u(a);h=c(v,"THEAD",{});var n=u(h);o=c(n,"TR",{});var r=u(o);p=c(r,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0,style:!0,"aria-sort":!0,"aria-label":!0});var q=u(p);g=V(q,"#"),q.forEach(l),y=P(r),m=c(r,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0,style:!0,"aria-label":!0});var O=u(m);j=V(O,"Waktu"),O.forEach(l),I=P(r),b=c(r,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0,"aria-label":!0,style:!0});var L=u(b);B=V(L,"Endpoint"),L.forEach(l),W=P(r),T=c(r,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0,"aria-label":!0,style:!0});var S=u(T);w=V(S,"Communication Attempt"),S.forEach(l),k=P(r),f=c(r,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0,style:!0,"aria-label":!0});var X=u(f);N=V(X,"Response"),X.forEach(l),A=P(r),_=c(r,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0,style:!0,"aria-label":!0});var z=u(_);x=V(z,"Action"),z.forEach(l),r.forEach(l),n.forEach(l),R=P(v),C=c(v,"TBODY",{});var G=u(C);for(let Q=0;Q<d.length;Q+=1)d[Q].l(G);G.forEach(l),v.forEach(l),this.h()},h(){t(p,"scope","col"),t(p,"class","sorting"),t(p,"tabindex","0"),t(p,"aria-controls","DataTables_Table_0"),t(p,"rowspan","1"),t(p,"colspan","1"),U(p,"width","27px"),t(p,"aria-sort","descending"),t(p,"aria-label","#: activate to sort column ascending"),t(m,"scope","col"),t(m,"class","sorting"),t(m,"tabindex","0"),t(m,"aria-controls","DataTables_Table_0"),t(m,"rowspan","1"),t(m,"colspan","1"),U(m,"width","120px"),t(m,"aria-label","Cover: activate to sort column ascending"),t(b,"scope","col"),t(b,"class","sorting"),t(b,"tabindex","0"),t(b,"aria-controls","DataTables_Table_0"),t(b,"rowspan","1"),t(b,"colspan","1"),t(b,"aria-label","Name: activate to sort column ascending"),U(b,"width","250px"),t(T,"scope","col"),t(T,"class","sorting"),t(T,"tabindex","0"),t(T,"aria-controls","DataTables_Table_0"),t(T,"rowspan","1"),t(T,"colspan","1"),t(T,"aria-label","Name: activate to sort column ascending"),U(T,"width","200px"),t(f,"scope","col"),t(f,"class","sorting"),t(f,"tabindex","0"),t(f,"aria-controls","DataTables_Table_0"),t(f,"rowspan","1"),t(f,"colspan","1"),U(f,"width","90px"),t(f,"aria-label","Tipe Kelas: activate to sort column ascending"),t(_,"scope","col"),t(_,"class","sorting"),t(_,"tabindex","0"),t(_,"aria-controls","DataTables_Table_0"),t(_,"rowspan","1"),t(_,"colspan","1"),U(_,"width","148px"),t(_,"aria-label","Action: activate to sort column ascending"),t(a,"class","table datatables dataTable no-footer"),t(a,"id","DataTables_Table_0"),t(a,"role","grid"),t(a,"aria-describedby","DataTables_Table_0_info")},m(s,v){K(s,a,v),e(a,h),e(h,o),e(o,p),e(p,g),e(o,y),e(o,m),e(m,j),e(o,I),e(o,b),e(b,B),e(o,W),e(o,T),e(T,w),e(o,k),e(o,f),e(f,N),e(o,A),e(o,_),e(_,x),e(a,R),e(a,C);for(let n=0;n<d.length;n+=1)d[n].m(C,null)},p(s,v){if(v&1){D=s[0].logs;let n;for(n=0;n<D.length;n+=1){const r=at(s,D,n);d[n]?d[n].p(r,v):(d[n]=st(r),d[n].c(),d[n].m(C,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=D.length}},d(s){s&&l(a),ut(d,s)}}}function st(E){let a,h,o=(E[4]+=1)+"",p,g,y,m=et(new Date(E[2].created_at),"dd/MM/yyyy HH:mm:ss")+"",j,I,b,B="["+E[2].type+"] "+E[2].host_addr,W,T,w,k=E[2].trial_attempt+"",f,N,A,_=E[2].response_code+"",x,R,C,D,d,s,v;return{c(){a=i("tr"),h=i("th"),p=H(o),g=M(),y=i("td"),j=H(m),I=M(),b=i("td"),W=H(B),T=M(),w=i("td"),f=H(k),N=M(),A=i("td"),x=H(_),R=M(),C=i("td"),D=i("a"),d=H("Details"),v=M(),this.h()},l(n){a=c(n,"TR",{class:!0});var r=u(a);h=c(r,"TH",{scope:!0,class:!0});var q=u(h);p=V(q,o),q.forEach(l),g=P(r),y=c(r,"TD",{});var O=u(y);j=V(O,m),O.forEach(l),I=P(r),b=c(r,"TD",{width:!0});var L=u(b);W=V(L,B),L.forEach(l),T=P(r),w=c(r,"TD",{});var S=u(w);f=V(S,k),S.forEach(l),N=P(r),A=c(r,"TD",{});var X=u(A);x=V(X,_),X.forEach(l),R=P(r),C=c(r,"TD",{});var z=u(C);D=c(z,"A",{href:!0,class:!0,target:!0});var G=u(D);d=V(G,"Details"),G.forEach(l),z.forEach(l),v=P(r),r.forEach(l),this.h()},h(){t(h,"scope","row"),t(h,"class","sorting"),t(b,"width","40%"),t(D,"href",s="/log/"+E[2].id),t(D,"class","btn btn-secondary"),t(D,"target","_self"),t(a,"class","align-middle even")},m(n,r){K(n,a,r),e(a,h),e(h,p),e(a,g),e(a,y),e(y,j),e(a,I),e(a,b),e(b,W),e(a,T),e(a,w),e(w,f),e(a,N),e(a,A),e(A,x),e(a,R),e(a,C),e(C,D),e(D,d),e(a,v)},p(n,r){r&1&&m!==(m=et(new Date(n[2].created_at),"dd/MM/yyyy HH:mm:ss")+"")&&Y(j,m),r&1&&B!==(B="["+n[2].type+"] "+n[2].host_addr)&&Y(W,B),r&1&&k!==(k=n[2].trial_attempt+"")&&Y(f,k),r&1&&_!==(_=n[2].response_code+"")&&Y(x,_),r&1&&s!==(s="/log/"+n[2].id)&&t(D,"href",s)},d(n){n&&l(a)}}}function ft(E){let a,h,o,p,g,y,m,j,I,b,B,W,T,w,k,f,N,A,_,x,R;function C(s,v){return s[0]?_t:pt}let D=C(E),d=D(E);return{c(){a=i("meta"),h=M(),o=i("div"),p=i("div"),g=i("div"),y=i("h1"),m=H("Dashboard - Riwayat Error"),j=M(),I=i("p"),b=H("Daftar komunikasi API yang belum berhasil "),B=i("br"),W=H("akibat kegagalan di sisi internal pengirim"),T=M(),w=i("div"),k=i("div"),f=i("div"),N=i("div"),A=i("div"),_=i("div"),x=i("div"),R=i("div"),d.c(),this.h()},l(s){const v=nt("svelte-ai7pmv",document.head);a=c(v,"META",{name:!0,content:!0}),v.forEach(l),h=P(s),o=c(s,"DIV",{class:!0});var n=u(o);p=c(n,"DIV",{class:!0});var r=u(p);g=c(r,"DIV",{class:!0});var q=u(g);y=c(q,"H1",{class:!0});var O=u(y);m=V(O,"Dashboard - Riwayat Error"),O.forEach(l),j=P(q),I=c(q,"P",{class:!0});var L=u(I);b=V(L,"Daftar komunikasi API yang belum berhasil "),B=c(L,"BR",{class:!0}),W=V(L,"akibat kegagalan di sisi internal pengirim"),L.forEach(l),q.forEach(l),r.forEach(l),n.forEach(l),T=P(s),w=c(s,"DIV",{class:!0});var S=u(w);k=c(S,"DIV",{class:!0,id:!0});var X=u(k);f=c(X,"DIV",{class:!0});var z=u(f);N=c(z,"DIV",{class:!0});var G=u(N);A=c(G,"DIV",{class:!0});var Q=u(A);_=c(Q,"DIV",{id:!0,class:!0});var F=u(_);x=c(F,"DIV",{class:!0});var J=u(x);R=c(J,"DIV",{class:!0});var Z=u(R);d.l(Z),Z.forEach(l),J.forEach(l),F.forEach(l),Q.forEach(l),G.forEach(l),z.forEach(l),X.forEach(l),S.forEach(l),this.h()},h(){document.title="Dashboard - ReCAM",t(a,"name","description"),t(a,"content","Dashboard ReCAM system"),t(y,"class","header-primary mb-3"),t(B,"class","desktop"),t(I,"class","subtitle-primary"),t(g,"class","col-lg-12"),t(p,"class","row"),t(o,"class","container"),t(R,"class","col-sm-12"),t(x,"class","row"),t(_,"id","DataTables_Table_0_wrapper"),t(_,"class","dataTables_wrapper dt-bootstrap5 no-footer"),t(A,"class","table-responsive pb-3"),t(N,"class","default-card"),t(f,"class","col-lg-12 col-12"),t(k,"class","row basic-form my-5"),t(k,"id","list"),t(w,"class","container")},m(s,v){e(document.head,a),K(s,h,v),K(s,o,v),e(o,p),e(p,g),e(g,y),e(y,m),e(g,j),e(g,I),e(I,b),e(I,B),e(I,W),K(s,T,v),K(s,w,v),e(w,k),e(k,f),e(f,N),e(N,A),e(A,_),e(_,x),e(x,R),d.m(R,null)},p(s,[v]){D===(D=C(s))&&d?d.p(s,v):(d.d(1),d=D(s),d&&(d.c(),d.m(R,null)))},i:$,o:$,d(s){l(a),s&&l(h),s&&l(o),s&&l(T),s&&l(w),d.d()}}}function bt(E,a,h){let o;it(E,tt,g=>h(1,o=g));let p;return ct(async()=>{const y=await(await fetch(ht.PUBLIC_API_ENDPOINT+"/logs/4XX",{method:"GET",headers:{"content-type":"application/json",Authorization:o}})).json();y.error?dt(tt,o=null,o):h(0,p=y)}),[p]}class Et extends rt{constructor(a){super(),lt(this,a,bt,ft,ot,{})}}export{Et as default};
