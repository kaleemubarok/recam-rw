import{S as Ae,i as Ve,s as Ce,k as r,a as T,q as A,V as Le,l as s,h as a,c as E,m as o,r as V,n as e,C as t,b as he,N as ge,J as Pe,Q as be,D as He,o as Re,T as Ne,p as me,W as Be,O as Me,u as ue}from"../../../chunks/index-d1f1804c.js";import{a as we}from"../../../chunks/auth-380363b5.js";import{e as ye}from"../../../chunks/env-public-6aa99648.js";function Ie(n,l,u){const _=n.slice();return _[6]=l[u],_[8]=u,_}function xe(n){let l;return{c(){l=A("unable to get routes data.")},l(u){l=V(u,"unable to get routes data.")},m(u,_){he(u,l,_)},p:be,d(u){u&&a(l)}}}function Se(n){let l,u,_,C,p,y,c,I,g,q,f,K,x,D,J,j,k,L,Z,w,S,X,N,U,$,M,O,z,v,G,Q,H,W,ee,Y,B=n[2],P=[];for(let b=0;b<B.length;b+=1)P[b]=ke(Ie(n,B,b));return{c(){l=r("div"),u=r("div"),_=r("div"),C=r("div"),p=r("table"),y=r("thead"),c=r("tr"),I=r("th"),g=A("#"),q=T(),f=r("th"),K=A("Nama"),x=T(),D=r("th"),J=A("Endpoint"),j=T(),k=r("th"),L=A("Pengulangan"),Z=T(),w=r("th"),S=A("Max Percobaan"),X=T(),N=r("th"),U=A("Jeda Percobaan"),$=T(),M=r("th"),O=A("Slug"),z=T(),v=r("th"),G=A("Token"),Q=T(),H=r("th"),W=A("Action"),ee=T(),Y=r("tbody");for(let b=0;b<P.length;b+=1)P[b].c();this.h()},l(b){l=s(b,"DIV",{class:!0});var F=o(l);u=s(F,"DIV",{id:!0,class:!0});var d=o(u);_=s(d,"DIV",{class:!0});var h=o(_);C=s(h,"DIV",{class:!0});var R=o(C);p=s(R,"TABLE",{class:!0,id:!0,role:!0,"aria-describedby":!0});var i=o(p);y=s(i,"THEAD",{});var le=o(y);c=s(le,"TR",{});var m=o(c);I=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0});var oe=o(I);g=V(oe,"#"),oe.forEach(a),q=E(m),f=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0});var se=o(f);K=V(se,"Nama"),se.forEach(a),x=E(m),D=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0,style:!0});var te=o(D);J=V(te,"Endpoint"),te.forEach(a),j=E(m),k=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0});var ae=o(k);L=V(ae,"Pengulangan"),ae.forEach(a),Z=E(m),w=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0});var ne=o(w);S=V(ne,"Max Percobaan"),ne.forEach(a),X=E(m),N=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0});var ce=o(N);U=V(ce,"Jeda Percobaan"),ce.forEach(a),$=E(m),M=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0});var ie=o(M);O=V(ie,"Slug"),ie.forEach(a),z=E(m),v=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0});var de=o(v);G=V(de,"Token"),de.forEach(a),Q=E(m),H=s(m,"TH",{scope:!0,class:!0,tabindex:!0,"aria-controls":!0,rowspan:!0,colspan:!0,style:!0});var re=o(H);W=V(re,"Action"),re.forEach(a),m.forEach(a),le.forEach(a),ee=E(i),Y=s(i,"TBODY",{});var _e=o(Y);for(let pe=0;pe<P.length;pe+=1)P[pe].l(_e);_e.forEach(a),i.forEach(a),R.forEach(a),h.forEach(a),d.forEach(a),F.forEach(a),this.h()},h(){e(I,"scope","col"),e(I,"class","sorting"),e(I,"tabindex","0"),e(I,"aria-controls","DataTables_Table_0"),e(I,"rowspan","1"),e(I,"colspan","1"),e(f,"scope","col"),e(f,"class","sorting"),e(f,"tabindex","0"),e(f,"aria-controls","DataTables_Table_0"),e(f,"rowspan","1"),e(f,"colspan","1"),e(D,"scope","col"),e(D,"class","sorting"),e(D,"tabindex","0"),e(D,"aria-controls","DataTables_Table_0"),e(D,"rowspan","1"),e(D,"colspan","1"),me(D,"width","500px"),e(k,"scope","col"),e(k,"class","sorting"),e(k,"tabindex","0"),e(k,"aria-controls","DataTables_Table_0"),e(k,"rowspan","1"),e(k,"colspan","1"),e(w,"scope","col"),e(w,"class","sorting"),e(w,"tabindex","0"),e(w,"aria-controls","DataTables_Table_0"),e(w,"rowspan","1"),e(w,"colspan","1"),e(N,"scope","col"),e(N,"class","sorting"),e(N,"tabindex","0"),e(N,"aria-controls","DataTables_Table_0"),e(N,"rowspan","1"),e(N,"colspan","1"),e(M,"scope","col"),e(M,"class","sorting"),e(M,"tabindex","0"),e(M,"aria-controls","DataTables_Table_0"),e(M,"rowspan","1"),e(M,"colspan","1"),e(v,"scope","col"),e(v,"class","sorting"),e(v,"tabindex","0"),e(v,"aria-controls","DataTables_Table_0"),e(v,"rowspan","1"),e(v,"colspan","1"),e(H,"scope","col"),e(H,"class","sorting"),e(H,"tabindex","0"),e(H,"aria-controls","DataTables_Table_0"),e(H,"rowspan","1"),e(H,"colspan","1"),me(H,"width","148px"),e(p,"class","table datatables dataTable no-footer"),e(p,"id","DataTables_Table_0"),e(p,"role","grid"),e(p,"aria-describedby","DataTables_Table_0_info"),e(C,"class","col-sm-12"),e(_,"class","row"),e(u,"id","DataTables_Table_0_wrapper"),e(u,"class","dataTables_wrapper dt-bootstrap5 no-footer"),e(l,"class","table-responsive pb-3")},m(b,F){he(b,l,F),t(l,u),t(u,_),t(_,C),t(C,p),t(p,y),t(y,c),t(c,I),t(I,g),t(c,q),t(c,f),t(f,K),t(c,x),t(c,D),t(D,J),t(c,j),t(c,k),t(k,L),t(c,Z),t(c,w),t(w,S),t(c,X),t(c,N),t(N,U),t(c,$),t(c,M),t(M,O),t(c,z),t(c,v),t(v,G),t(c,Q),t(c,H),t(H,W),t(p,ee),t(p,Y);for(let d=0;d<P.length;d+=1)P[d].m(Y,null)},p(b,F){if(F&12){B=b[2];let d;for(d=0;d<B.length;d+=1){const h=Ie(b,B,d);P[d]?P[d].p(h,F):(P[d]=ke(h),P[d].c(),P[d].m(Y,null))}for(;d<P.length;d+=1)P[d].d(1);P.length=B.length}},d(b){b&&a(l),Be(P,b)}}}function ke(n){let l,u,_=(n[8]+=1)+"",C,p,y,c,I=n[6].name+"",g,q,f,K=n[6].host_addr+"",x,D,J,j=n[6].is_retryable+"",k,L,Z,w=n[6].max_retry+"",S,X,N,U=n[6].retry_period+"",$,M,O,z=n[6].slug+"",v,G,Q,H=n[6].token+"",W,ee,Y,B,P,b,F,d,h;return{c(){l=r("tr"),u=r("th"),C=A(_),p=T(),y=r("td"),c=r("span"),g=A(I),q=T(),f=r("td"),x=A(K),D=T(),J=r("td"),k=A(j),L=T(),Z=r("td"),S=A(w),X=T(),N=r("td"),$=A(U),M=T(),O=r("td"),v=A(z),G=T(),Q=r("td"),W=A(H),ee=T(),Y=r("td"),B=r("a"),P=A("Details"),F=T(),this.h()},l(R){l=s(R,"TR",{class:!0});var i=o(l);u=s(i,"TH",{scope:!0,class:!0});var le=o(u);C=V(le,_),le.forEach(a),p=E(i),y=s(i,"TD",{alt:!0,style:!0});var m=o(y);c=s(m,"SPAN",{"data-tooltip":!0});var oe=o(c);g=V(oe,I),oe.forEach(a),m.forEach(a),q=E(i),f=s(i,"TD",{width:!0});var se=o(f);x=V(se,K),se.forEach(a),D=E(i),J=s(i,"TD",{});var te=o(J);k=V(te,j),te.forEach(a),L=E(i),Z=s(i,"TD",{});var ae=o(Z);S=V(ae,w),ae.forEach(a),X=E(i),N=s(i,"TD",{});var ne=o(N);$=V(ne,U),ne.forEach(a),M=E(i),O=s(i,"TD",{});var ce=o(O);v=V(ce,z),ce.forEach(a),G=E(i),Q=s(i,"TD",{});var ie=o(Q);W=V(ie,H),ie.forEach(a),ee=E(i),Y=s(i,"TD",{});var de=o(Y);B=s(de,"A",{href:!0,class:!0,target:!0});var re=o(B);P=V(re,"Details"),re.forEach(a),de.forEach(a),F=E(i),i.forEach(a),this.h()},h(){e(u,"scope","row"),e(u,"class",""),e(c,"data-tooltip","Click to copy complete URL"),e(y,"alt","Copy url to route"),me(y,"cursor","pointer"),e(f,"width","40%"),e(B,"href",b="/route/"+n[6].id),e(B,"class","btn btn-secondary"),e(B,"target","_self"),e(l,"class","align-middle")},m(R,i){he(R,l,i),t(l,u),t(u,C),t(l,p),t(l,y),t(y,c),t(c,g),t(l,q),t(l,f),t(f,x),t(l,D),t(l,J),t(J,k),t(l,L),t(l,Z),t(Z,S),t(l,X),t(l,N),t(N,$),t(l,M),t(l,O),t(O,v),t(l,G),t(l,Q),t(Q,W),t(l,ee),t(l,Y),t(Y,B),t(B,P),t(l,F),d||(h=Pe(y,"click",function(){Me(n[3](n[6].token,n[6].slug))&&n[3](n[6].token,n[6].slug).apply(this,arguments)}),d=!0)},p(R,i){n=R,i&4&&I!==(I=n[6].name+"")&&ue(g,I),i&4&&K!==(K=n[6].host_addr+"")&&ue(x,K),i&4&&j!==(j=n[6].is_retryable+"")&&ue(k,j),i&4&&w!==(w=n[6].max_retry+"")&&ue(S,w),i&4&&U!==(U=n[6].retry_period+"")&&ue($,U),i&4&&z!==(z=n[6].slug+"")&&ue(v,z),i&4&&H!==(H=n[6].token+"")&&ue(W,H),i&4&&b!==(b="/route/"+n[6].id)&&e(B,"href",b)},d(R){R&&a(l),d=!1,h()}}}function Ue(n){let l,u,_,C,p,y,c,I,g,q,f,K,x,D,J,j,k,L,Z,w,S,X,N,U,$,M,O,z,v,G,Q,H,W,ee,Y,B,P;function b(h,R){return h[0]?Se:xe}let F=b(n),d=F(n);return{c(){l=r("meta"),u=T(),_=r("div"),C=r("div"),p=r("div"),y=r("h1"),c=A("Route"),I=T(),g=r("p"),q=A("Daftar rute komunikasi API"),f=r("br"),K=T(),x=r("div"),D=r("div"),J=r("div"),j=r("div"),k=r("div"),L=r("input"),Z=T(),w=r("div"),S=r("div"),X=r("label"),N=T(),U=r("a"),$=A("Cari"),M=T(),O=r("div"),z=r("div"),v=r("div"),G=r("div"),Q=r("label"),H=T(),W=r("a"),ee=A("Tambah"),Y=T(),d.c(),this.h()},l(h){const R=Le("svelte-1ynhcio",document.head);l=s(R,"META",{name:!0,content:!0}),R.forEach(a),u=E(h),_=s(h,"DIV",{class:!0});var i=o(_);C=s(i,"DIV",{class:!0});var le=o(C);p=s(le,"DIV",{class:!0});var m=o(p);y=s(m,"H1",{class:!0});var oe=o(y);c=V(oe,"Route"),oe.forEach(a),I=E(m),g=s(m,"P",{class:!0});var se=o(g);q=V(se,"Daftar rute komunikasi API"),f=s(se,"BR",{class:!0}),se.forEach(a),m.forEach(a),le.forEach(a),i.forEach(a),K=E(h),x=s(h,"DIV",{class:!0});var te=o(x);D=s(te,"DIV",{class:!0});var ae=o(D);J=s(ae,"DIV",{class:!0});var ne=o(J);j=s(ne,"DIV",{class:!0});var ce=o(j);k=s(ce,"DIV",{class:!0});var ie=o(k);L=s(ie,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0,id:!0,minlength:!0}),ie.forEach(a),ce.forEach(a),ne.forEach(a),Z=E(ae),w=s(ae,"DIV",{class:!0});var de=o(w);S=s(de,"DIV",{class:!0});var re=o(S);X=s(re,"LABEL",{for:!0,class:!0});var _e=o(X);_e.forEach(a),N=E(re),U=s(re,"A",{class:!0,href:!0});var pe=o(U);$=V(pe,"Cari"),pe.forEach(a),re.forEach(a),de.forEach(a),ae.forEach(a),M=E(te),O=s(te,"DIV",{class:!0,id:!0});var Te=o(O);z=s(Te,"DIV",{class:!0});var Ee=o(z);v=s(Ee,"DIV",{class:!0});var fe=o(v);G=s(fe,"DIV",{class:!0});var ve=o(G);Q=s(ve,"LABEL",{for:!0,class:!0}),o(Q).forEach(a),H=E(ve),W=s(ve,"A",{class:!0,href:!0});var De=o(W);ee=V(De,"Tambah"),De.forEach(a),ve.forEach(a),Y=E(fe),d.l(fe),fe.forEach(a),Ee.forEach(a),Te.forEach(a),te.forEach(a),this.h()},h(){document.title="Route - ReCAM",e(l,"name","description"),e(l,"content","Dashboard ReCAM system"),e(y,"class","header-primary mb-3"),e(f,"class","desktop"),e(g,"class","subtitle-primary"),e(p,"class","col-lg-12"),e(C,"class","row"),e(_,"class","container"),e(L,"name","keyword"),e(L,"type","text"),e(L,"placeholder","Nama Rute / Alamat Endpoint"),e(L,"class","form-control"),e(L,"id","exampleInputPassword1"),L.required=!0,e(L,"minlength","6"),e(k,"class","mt-3"),e(j,"class","form-group default-card"),e(J,"class","col-lg-8 col-12"),e(X,"for","exampleInputPassword1"),e(X,"class","form-label"),e(U,"class","btn btn-primary mt-3"),e(U,"href","/route#list"),e(S,"class","form-group default-card"),e(w,"class","col-lg-3 col-12"),e(D,"class","row my-report my-5"),e(Q,"for","exampleInputPassword1"),e(Q,"class","form-label"),e(W,"class","btn btn-primary mt-3"),e(W,"href","/route/add"),e(G,"class","form-group"),e(v,"class","default-card"),e(z,"class","col-lg-12 col-12"),e(O,"class","row basic-form my-5"),e(O,"id","list"),e(x,"class","container")},m(h,R){t(document.head,l),he(h,u,R),he(h,_,R),t(_,C),t(C,p),t(p,y),t(y,c),t(p,I),t(p,g),t(g,q),t(g,f),he(h,K,R),he(h,x,R),t(x,D),t(D,J),t(J,j),t(j,k),t(k,L),ge(L,n[1]),t(D,Z),t(D,w),t(w,S),t(S,X),t(S,N),t(S,U),t(U,$),t(x,M),t(x,O),t(O,z),t(z,v),t(v,G),t(G,Q),t(G,H),t(G,W),t(W,ee),t(v,Y),d.m(v,null),B||(P=Pe(L,"input",n[4]),B=!0)},p(h,[R]){R&2&&L.value!==h[1]&&ge(L,h[1]),F===(F=b(h))&&d?d.p(h,R):(d.d(1),d=F(h),d&&(d.c(),d.m(v,null)))},i:be,o:be,d(h){a(l),h&&a(u),h&&a(_),h&&a(K),h&&a(x),d.d(),B=!1,P()}}}function Oe(n,l,u){let _,C;He(n,we,g=>u(5,C=g));let p;Re(async()=>{const q=await(await fetch(ye.PUBLIC_API_ENDPOINT+"/routes",{method:"GET",headers:{"content-type":"application/json",Authorization:C},body:null})).json();q.error?Ne(we,C=null,C):u(0,p=q.routes)});function y(g,q){const f=ye.PUBLIC_API_ENDPOINT+"/go/"+g+"/"+q;navigator.clipboard.writeText(f),alert("Route URL: "+f+" sudah di-copy!")}let c="";function I(){c=this.value,u(1,c)}return n.$$.update=()=>{n.$$.dirty&3&&u(2,_=(p||[]).filter(g=>g.name.toLowerCase().includes(c.toLowerCase())||g.host_addr.toLowerCase().includes(c.toLowerCase())))},[p,c,_,y,I]}class ze extends Ae{constructor(l){super(),Ve(this,l,Oe,Ue,Ce,{})}}export{ze as default};
